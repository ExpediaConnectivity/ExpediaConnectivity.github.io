<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Update A Variable Margin - Accelerator (Experimental)</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/he-animate.css"><script src="/js/jquery.js"></script><script src="/js/vendor/modernizr.js"></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-main.js"></script><script src="/js/he-plugins.js"></script><script src="/js/he-smoothscroll.js"></script><script src="/js/he-waypoints.js"></script><script src="/js/environment.js"></script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></head><body><div id="google_translate_element" style="display: none"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/DevLogo_40k.png"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">Systems</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu"><nav role="navigation" class="sidebar-nav"><header>Accelerator (Experimental)</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/add-variable-margins.html">Add Variable Margin</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/retrieve-variable-margins.html">Retrieve Variable Margins</a></li><li class="pagename" data-magellan-arrival="update-a-variable-margin"><a class="sidebar-nav-item" href="#update-a-variable-margin">Update A Variable Margin</a></li><li class="depth3" data-magellan-arrival="http-request"><a class="sidebar-nav-item" href="#http-request">HTTP request</a></li><li class="depth3" data-magellan-arrival="path-parameters"><a class="sidebar-nav-item" href="#path-parameters">Path Parameters</a></li><li class="depth3" data-magellan-arrival="custom-http-headers"><a class="sidebar-nav-item" href="#custom-http-headers">Custom HTTP headers</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/delete-variable-margins.html">Delete Variable Margins</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/history-variable-margins.html">Variable Margin History</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/reference.html">Reference</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/try-it.html">Try It</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h2 id="update-a-variable-margin" data-magellan-destination="update-a-variable-margin">Update a Variable Margin</h2>
<p>Updating a Variable Margin Start/End date may result in modification of other Variable Margins, that are adjacent to the one being modified.</p>
<h3 id="http-request" data-magellan-destination="http-request">HTTP request</h3>
<p>Example URL</p>
<p><strong>PUT</strong> <code>https://services.expediapartnercentral.com/accelerator/v1/hotels/{hotelid}/variablemargins/{variablemarginid}?overlappingallowed=true</code></p>
<h3 id="path-parameters" data-magellan-destination="path-parameters">Path Parameters</h3>
<div><table>
<thead>
<tr>
<th>Parameter name</th>
<th>Type</th>
<th>Eg. Value</th>
<th>Required?</th>
<th>Description</th>
<th>Validation</th>
</tr>
</thead>
<tbody>
<tr>
<td>hotelid</td>
<td>integer</td>
<td>1234</td>
<td>Required</td>
<td>Indicates the hotel for which Variable Margins are required</td>
<td>Error will be returned if hotel id is invalid<br/>If hotel is not EFR enabled, HTTP error code 422 will be returned along with the following error in the message body: Cannot update Variable Margin because hotel {1} is not EFR enabled.</td>
</tr>
<tr>
<td>variablemarginid</td>
<td>integer</td>
<td>567</td>
<td>Required</td>
<td>The Variable Margin to be edited</td>
<td>Error will be returned if the variable margin id is not associated with the hotel id specified in the request</td>
</tr>
<tr>
<td>overlappingallowed</td>
<td>boolean</td>
<td>true</td>
<td>Optional</td>
<td>Indicates if the clients would like service to modify existing EFRs, if the modified EFR provided in the request overlaps with existing EFRs.<br/>If RQ&#39;s EFR does not overlap existed EFRs, the EFR in the RQ will be modified and existing EFRs will NOT be affected irrespective of <em>overlappingallowed</em> value If ov<em>erlappingallowed</em> is false, an error will be returned if RQ&#39;s EFR overlaps with existing EFRs. If RQ&#39;s EFR partially overlaps with existing EFRs and <em>overlappingallowed</em> is true, the EFR in RQ will be updated and existing overlapping EFRs will have their dates adjusted.<br/>If RQ&#39;s EFR fully overlaps with existing EFRs and <em>overlappingallowed</em> is true, a the EFR in RQ will be updated and the EFR that are fully overlapped will be deleted.<br/>The RQ&#39;s EFR will NOT be merged with existed EFR even if their dates are near with each other and with same rate. <strong>The ID of the EFR that is modified should not be changed after the edit operation.</strong><br/>See example below.</td>
</tr>
</tbody>
</table>
</div><p><strong>Examples of overlapping EFR behaviour:</strong></p>
<ol>
<li>Existing Variable Margin</li>
</ol>
<div><table>
<thead>
<tr>
<th>VariableMarginID</th>
<th>StartDate</th>
<th>EndDate</th>
<th>VariableMarginPercentage</th>
</tr>
</thead>
<tbody>
<tr>
<td>1234</td>
<td>2014-01-01</td>
<td>2015-12-31</td>
<td>10.0</td>
</tr>
<tr>
<td>1235</td>
<td>2016-01-01</td>
<td>2016-03-31</td>
<td>12.0</td>
</tr>
<tr>
<td>1336</td>
<td>2016-04-01</td>
<td>2016-12-31</td>
<td>8.0</td>
</tr>
</tbody>
</table>
</div><p>2. The following variable margin is updated, which has dates that overlap the dates of the existing Variable Margin</p>
<div><table>
<thead>
<tr>
<th>VariableMarginID</th>
<th>StartDate</th>
<th>EndDate</th>
<th>VariableMarginPercentage</th>
</tr>
</thead>
<tbody>
<tr>
<td>1235</td>
<td>2016-02-01</td>
<td>2016-04-15</td>
<td>5.5</td>
</tr>
</tbody>
</table>
</div><p>3. The service will update the variable margin specified, and modify the existing variable margin with a final state as shown below. The green row indicates original  EFRs and those that are not modified.. The yellow rows show the modifications  made to the EFRs.</p>
<div><table>
<thead>
<tr>
<th>VariableMarginID</th>
<th>StartDate</th>
<th>EndDate</th>
<th>VariableMarginPercentage</th>
</tr>
</thead>
<tbody>
<tr>
<td>1234</td>
<td>2014-06-01</td>
<td>2014-12-31</td>
<td>10.0</td>
</tr>
<tr>
<td>1235</td>
<td>2016-02-01</td>
<td>2016-04-15</td>
<td>5.5</td>
</tr>
<tr>
<td>1336</td>
<td>2016-04-16</td>
<td>2016-12-31</td>
<td>10.0</td>
</tr>
</tbody>
</table>
</div><h3 id="custom-http-headers" data-magellan-destination="custom-http-headers">Custom HTTP headers</h3>
<div><table>
<thead>
<tr>
<th>Header</th>
<th>Required?</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type : application/json</td>
<td>Required</td>
<td>specifies that the response should have JSON payload</td>
</tr>
<tr>
<td>Transaction-ID : {GUID}</td>
<td>Optional</td>
<td>guid assigned for the transaction</td>
</tr>
<tr>
<td>For-Testing-Only: {boolean}</td>
<td>Optional</td>
<td>boolean-for-synthetic-test-messages<br/>(i.e. &#39;true&#39; if the message is a test or synthetic request)<br/>If this header is included, then the service will log the RQ/RS in event log.</td>
</tr>
</tbody>
</table>
</div></div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> | <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> | <a class="link-item" href="/terms">Terms and Conditions</a> | <a class="link-item" href="/privacy">Privacy Policy</a> | <a class="link-item" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2017 Expedia, Inc. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>