<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Variable Margin History - Accelerator (Experimental)</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/he-animate.css"><script src="/js/jquery.js"></script><script src="/js/vendor/modernizr.js"></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-main.js"></script><script src="/js/he-plugins.js"></script><script src="/js/he-smoothscroll.js"></script><script src="/js/he-waypoints.js"></script><script src="/js/environment.js"></script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></head><body><div id="google_translate_element" style="display: none"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/DevLogo_40k.png"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">Systems</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu"><nav role="navigation" class="sidebar-nav"><header>Accelerator (Experimental)</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/add-variable-margins.html">Add Variable Margin</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/delete-variable-margins.html">Delete Variable Margins</a></li><li class="pagename" data-magellan-arrival="variable-margin-history"><a class="sidebar-nav-item" href="#variable-margin-history">Variable Margin History</a></li><li class="depth3" data-magellan-arrival="http-request"><a class="sidebar-nav-item" href="#http-request">HTTP request</a></li><li class="depth3" data-magellan-arrival="path-parameters"><a class="sidebar-nav-item" href="#path-parameters">Path Parameters</a></li><li class="depth3" data-magellan-arrival="custom-http-headers"><a class="sidebar-nav-item" href="#custom-http-headers">Custom HTTP headers</a></li><li class="depth3" data-magellan-arrival="request-body"><a class="sidebar-nav-item" href="#request-body">Request Body</a></li><li class="depth3" data-magellan-arrival="request-body-example"><a class="sidebar-nav-item" href="#request-body-example">Request Body Example</a></li><li class="depth2" data-magellan-arrival="response"><a class="sidebar-nav-item" href="#response">Response</a></li><li class="depth3" data-magellan-arrival="http-header"><a class="sidebar-nav-item" href="#http-header">HTTP Header</a></li><li class="depth3" data-magellan-arrival="response-body"><a class="sidebar-nav-item" href="#response-body">Response Body</a></li><li class="depth3" data-magellan-arrival="response-body-example"><a class="sidebar-nav-item" href="#response-body-example">Response Body Example</a></li><li class="depth3" data-magellan-arrival="response-body-properties"><a class="sidebar-nav-item" href="#response-body-properties">Response Body Properties</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/reference.html">Reference</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/retrieve-variable-margins.html">Retrieve Variable Margins</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/try-it.html">Try It</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/accelerator/update-variable-margins.html">Update A Variable Margin</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h2 id="variable-margin-history" data-magellan-destination="variable-margin-history">Variable Margin History</h2>
<p>Get - retrieve the Variable Margin change history for a hotel</p>
<h3 id="http-request" data-magellan-destination="http-request">HTTP request</h3>
<p>Example URL</p>
<p><strong>GET</strong>   <code>https://services.expediapartnercentral.com/accelerator/v1/hotels/{hotelid}/variablemarginchangehistory?startdate=01-15-2014&amp;enddate=12-31-2014</code></p>
<h3 id="path-parameters" data-magellan-destination="path-parameters">Path Parameters</h3>
<div><table>
<thead>
<tr>
<th>Parameter name</th>
<th>Type</th>
<th>Eg. Value</th>
<th>Required?</th>
<th>Description</th>
<th>Validation</th>
</tr>
</thead>
<tbody>
<tr>
<td>hotelid</td>
<td>integer</td>
<td>1234</td>
<td>Required</td>
<td>Indicates the hotel for which Variable Margins are required</td>
<td>Error will be returned if hotel id is invalid</td>
</tr>
<tr>
<td>startdate</td>
<td>string</td>
<td>01-15-2016 (format is MM-DD-YYYY)</td>
<td>Optional</td>
<td>Client may specify a start date. Only changes made on and after the start date will be returned. If the startDate &lt;= &#39;2015-12-30&#39;, then the startDate  = &#39;2016=01-01&#39;<br/>Client may specify a change window by providing both a start and end date.<br/>Client may specify only one day by setting start date = end date.</td>
<td>Start Date must not be later than end date.</td>
</tr>
<tr>
<td>enddate</td>
<td>string</td>
<td>12-31-2014 (format is MM-DD-YYYY)</td>
<td>Optional</td>
<td>Client may specify an end date. Only changes made on and before the start date will be returned. Client may specify a change window by providing both a start and end date. Client may specify only one day by setting start date = end date.</td>
<td>End Date must not be later than end date.</td>
</tr>
</tbody>
</table>
</div><h3 id="custom-http-headers" data-magellan-destination="custom-http-headers">Custom HTTP headers</h3>
<div><table>
<thead>
<tr>
<th>Header</th>
<th>Required?</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type : application/json</td>
<td>Required</td>
<td>specifies that the response should have JSON payload</td>
</tr>
<tr>
<td>Transaction-ID : {GUID}</td>
<td>Optional</td>
<td>guid assigned for the transaction</td>
</tr>
<tr>
<td>For-Testing-Only: {boolean}</td>
<td>Optional</td>
<td>boolean-for-synthetic-test-messages<br/>(i.e. &#39;true&#39; if the message is a test or synthetic request)<br/>If this header is included, then the service will log the RQ/RS in event log.</td>
</tr>
</tbody>
</table>
</div><hr>
<h3 id="request-body" data-magellan-destination="request-body">Request Body</h3>
<p>Do not supply a request body with this method.</p>
<h3 id="request-body-example" data-magellan-destination="request-body-example">Request Body Example</h3>
<p>N/A</p>
<hr>
<h2 id="response" data-magellan-destination="response">Response</h2>
<p>In the future, the message may include additional optional properties in the response body, as well as additional optional custom HTTP headers. In order to prevent such changes from breaking the client side, the client must not tightly bind to the existing  message response.e</p>
<h3 id="http-header" data-magellan-destination="http-header">HTTP Header</h3>
<p>One of the following status codes will be included in the HTTP response header.</p>
<p>The following key:value pairs  will also be included in the header</p>
<div><table>
<thead>
<tr>
<th>Key : Value</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type : application/json</td>
<td>Required</td>
<td>specifies that the response should have JSON payload</td>
</tr>
<tr>
<td>Transaction-ID : {GUID}</td>
<td>Required</td>
<td>transaction id provided by client will be returned by service. If non provided, service will generate one.</td>
</tr>
</tbody>
</table>
</div><hr>
<h3 id="response-body" data-magellan-destination="response-body">Response Body</h3>
<h4 id="success-case" data-magellan-destination="success-case">Success Case</h4>
<ul>
<li>If successful, the method will return a response body with the structure as shown in the example. </li>
<li>An <em>optional Warning array,</em> containing warning codes and warning messages may be returned by the service, to convey any warnings.</li>
</ul>
<h4 id="error-case" data-magellan-destination="error-case">Error Case</h4>
<ul>
<li>In case of an error, the body will contain a Error array, containing error codes and error messages that convey detailed error information.</li>
<li>The error codes and messages in the body will provide error details in addition to the HTTP error codes returned in the response header.</li>
</ul>
<h3 id="response-body-example" data-magellan-destination="response-body-example">Response Body Example</h3>
<h4 id="success-case-2" data-magellan-destination="success-case-2">Success Case</h4>
<p><img src="/images/accelerator_VariableMarginChangeHistoryGet_response_1.jpg" alt=""></p>
<p><img src="/images/accelerator_VariableMarginChangeHistoryGet_response_2.jpg" alt=""></p>
<h4 id="error-case-2" data-magellan-destination="error-case-2">Error Case</h4>
<p><img src="/images/accelerator_VariableMarginGet_response_warning.jpg" alt=""></p>
<h3 id="response-body-properties" data-magellan-destination="response-body-properties">Response Body Properties</h3>
<div><table>
<thead>
<tr>
<th>Property name</th>
<th>Value</th>
<th>Mandatory/Optional in service response?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>HotelID</td>
<td>integer</td>
<td>Included in every success response</td>
<td>The hotel id for which the variable margin information is returned</td>
</tr>
<tr>
<td>VariableMarginActivationHistory</td>
<td>array of Change objects</td>
<td>Include in every success response</td>
<td>If the hotel has never had EFR activated, and has no Variable Margin change history, then this array will be empty, and following warning will be returned: HotelID {0} has never enabled EFR and has no EFR change history</td>
</tr>
<tr>
<td>VariableMarginChangeHistory</td>
<td>array of VariableMarginChangeHistory objects</td>
<td>Included in every success response</td>
<td>If the hotel has no Variable Margins added, then this will be an empty array.</td>
</tr>
</tbody>
</table>
</div><p><strong>VariableMarginChangeHistory</strong></p>
<div><table>
<thead>
<tr>
<th>Property name</th>
<th>Value</th>
<th>Mandatory/Optional in service response?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>VariableMarginID</td>
<td>integer</td>
<td>Included only if a hotel has Variable Margin change history</td>
<td>ID associated with a Variable Margin</td>
</tr>
<tr>
<td>ChangeHistory</td>
<td>array of Change objects</td>
<td>Included only if a hotel has Variable Margin change history</td>
</tr>
</tbody>
</table>
</div><p><strong>Change</strong></p>
<div><table>
<thead>
<tr>
<th>Property name</th>
<th>Type</th>
<th>Mandatory/Optional in service response?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ChangeDate</td>
<td>string</td>
<td>Required</td>
<td>Indicates the date and time of the change</td>
</tr>
<tr>
<td>Action</td>
<td>string</td>
<td>Required</td>
<td>Indicates the change action.<br/>For VariableMarginActivationHistory, the valid values are &quot;VariableMargin Enabled&quot; and &quot;VariableMargin Disabled&quot;.<br/>For ChangeHistory , the valid values are &quot;Added&quot;, &quot;Edited&quot; and &quot;Deleted&quot;.</td>
</tr>
<tr>
<td>StartDate</td>
<td>string</td>
<td>optional</td>
<td>StartDate indicates the stay date/time from when the Variable Margin takes effect.</td>
</tr>
<tr>
<td>EndDate</td>
<td>string</td>
<td>optional</td>
<td>EndDate indicates the stay date/time at which the Variable Margin stops being effective.</td>
</tr>
<tr>
<td>VariableMarginPercentage</td>
<td>number</td>
<td>optional</td>
<td>Variable Margin that is to be applied for the window described from StartDate and EndDate.</td>
</tr>
<tr>
<td>UserID</td>
<td>number</td>
<td>optional</td>
<td>Indicates the TUID of the user who made the change</td>
</tr>
</tbody>
</table>
</div><p><strong>Optional Array of Warnings</strong></p>
<div><table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Mandatory/Optional in message response?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Warnings</td>
<td>Array</td>
<td>Optional</td>
<td>Warnings to be be conveyed to client</td>
</tr>
<tr>
<td>WarningCode</td>
<td>integer</td>
<td>Required, if Warnings included</td>
<td>Unique code assigned to a specific warning message</td>
</tr>
<tr>
<td>WarningMessage</td>
<td>string</td>
<td>Required, if Warnings included</td>
<td>Description of the warning details</td>
</tr>
</tbody>
</table>
</div><p><strong>Optional Array of Errors</strong></p>
<div><table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Type</strong></th>
<th><strong>Mandatory/Optional in message response?</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Errors</td>
<td>Array</td>
<td>Optional</td>
<td>Errors to be be conveyed to client</td>
</tr>
<tr>
<td>ErrorCode</td>
<td>integer</td>
<td>Required, if Errors included</td>
<td>Unique code assigned to a specific error message</td>
</tr>
<tr>
<td>ErrorMessage</td>
<td>string</td>
<td>Required, if Errorss included</td>
<td>Description of the error details</td>
</tr>
</tbody>
</table>
</div></div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> | <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> | <a class="link-item" href="/terms">Terms and Conditions</a> | <a class="link-item" href="/privacy">Privacy Policy</a> | <a class="link-item" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2017 Expedia, Inc. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>