<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>FAQ &amp; Guides - Product API</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/foundation-icons.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><!-- for jQuery >= 3.2.0 there is a strange bug that cause .outerWidth() in Safari returns wrong value when page first load. It will break our logo slider. Last checked on jQuery 3.3.1--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/vendor/modernizr.js" async></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-all.js" async></script><script src="/js/environment.js"></script><script src="/js/suga-slider.js"></script><script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script><script>WebFont.load({
    google: {
        families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]
            }
});</script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async></script></head><link rel="stylesheet" href="/css/api-content.css"><body><div id="google_translate_element" style="display: none;"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout(); return false;">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/EGLPS_logo_white_RGB.svg"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">System Providers</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div><span id="cookies-alert"><a id="cookies-link" href="/cookies"><span class="fi-info">&nbsp;This site uses cookies</span></a></span></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none;" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu api-menu"><nav role="navigation" class="sidebar-nav"><header>Product API</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/product-api/quick-start.html">Quick Start</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/product-api/reference.html">API Definition</a></li><li class="pagename" data-magellan-arrival="faq-guides"><a class="sidebar-nav-item" href="#faq-guides">FAQ & Guides</a></li><li class="depth2" data-magellan-arrival="how-to-get-started-for-first-time-api-users"><a class="sidebar-nav-item" href="#how-to-get-started-for-first-time-api-users">How to Get Started for First Time API Users</a></li><li class="depth2" data-magellan-arrival="how-to-get-authorized-to-access-specific-properties"><a class="sidebar-nav-item" href="#how-to-get-authorized-to-access-specific-properties">How to Get Authorized to Access Specific Properties</a></li><li class="depth2" data-magellan-arrival="understanding-expedia-lodging-data-model"><a class="sidebar-nav-item" href="#understanding-expedia-lodging-data-model">Understanding Expedia Lodging Data Model</a></li><li class="depth2" data-magellan-arrival="simplified-mapping-process-with-product-api"><a class="sidebar-nav-item" href="#simplified-mapping-process-with-product-api">Simplified mapping process with Product API</a></li><li class="depth2" data-magellan-arrival="does-expedia-offer-json-schema-files-for-product-api-"><a class="sidebar-nav-item" href="#does-expedia-offer-json-schema-files-for-product-api-">Does Expedia Offer JSON Schema Files for Product API?</a></li><li class="depth2" data-magellan-arrival="product-api-versioning-documentation-and-maintenance-strategy-for-older-versions"><a class="sidebar-nav-item" href="#product-api-versioning-documentation-and-maintenance-strategy-for-older-versions">Product API Versioning Documentation and Maintenance Strategy for Older Versions</a></li><li class="depth2" data-magellan-arrival="changes-between-product-api-v2-and-v3"><a class="sidebar-nav-item" href="#changes-between-product-api-v2-and-v3">Changes between Product API V2 and V3</a></li><li class="depth3" data-magellan-arrival="new-bedroom-and-living-room-definitions"><a class="sidebar-nav-item" href="#new-bedroom-and-living-room-definitions">New Bedroom and Living Room definitions</a></li><li class="depth3" data-magellan-arrival="roomsize-vs-floorsize"><a class="sidebar-nav-item" href="#roomsize-vs-floorsize">roomSize vs floorSize</a></li><li class="depth2" data-magellan-arrival="expedia-traveler-preference-program-what-is-it-and-how-is-it-reflected-in-the-property-and-rate-plan-resources-"><a class="sidebar-nav-item" href="#expedia-traveler-preference-program-what-is-it-and-how-is-it-reflected-in-the-property-and-rate-plan-resources-">Expedia Traveler Preference Program: What Is It, and How Is It Reflected in the Property and Rate Plan Resources?</a></li><li class="depth3" data-magellan-arrival="identifying-expediatravelerpreference-properties"><a class="sidebar-nav-item" href="#identifying-expediatravelerpreference-properties">Identifying ExpediaTravelerPreference Properties</a></li><li class="depth3" data-magellan-arrival="identifying-expediatravelerpreference-rate-plans"><a class="sidebar-nav-item" href="#identifying-expediatravelerpreference-rate-plans">Identifying ExpediaTravelerPreference Rate Plans</a></li><li class="depth3" data-magellan-arrival="creating-expediatravelerpreference-rate-plans"><a class="sidebar-nav-item" href="#creating-expediatravelerpreference-rate-plans">Creating ExpediaTravelerPreference Rate Plans</a></li><li class="depth3" data-magellan-arrival="what-if-a-partner-system-requires-2-distinct-rate-plans-to-support-the-expediatravelerpreference-program-"><a class="sidebar-nav-item" href="#what-if-a-partner-system-requires-2-distinct-rate-plans-to-support-the-expediatravelerpreference-program-">What if a Partner System Requires 2 Distinct Rate Plans to Support the ExpediaTravelerPreference Program?</a></li><li class="depth2" data-magellan-arrival="getting-active-or-all-resources-when-calling-a-list-endpoint"><a class="sidebar-nav-item" href="#getting-active-or-all-resources-when-calling-a-list-endpoint">Getting Active or All resources when calling a list endpoint</a></li><li class="depth2" data-magellan-arrival="modify-partial-or-full-overlay-"><a class="sidebar-nav-item" href="#modify-partial-or-full-overlay-">Modify: partial or full overlay?</a></li><li class="depth3" data-magellan-arrival="modifying-with-put"><a class="sidebar-nav-item" href="#modifying-with-put">Modifying with PUT</a></li><li class="depth3" data-magellan-arrival="modifying-with-patch"><a class="sidebar-nav-item" href="#modifying-with-patch">Modifying with PATCH</a></li><li class="depth2" data-magellan-arrival="understanding-expedia-s-logic-around-room-names"><a class="sidebar-nav-item" href="#understanding-expedia-s-logic-around-room-names">Understanding Expedia's Logic Around Room Names</a></li><li class="depth3" data-magellan-arrival="using-predefined-names"><a class="sidebar-nav-item" href="#using-predefined-names">Using Predefined Names</a></li><li class="depth3" data-magellan-arrival="using-room-name-attributes"><a class="sidebar-nav-item" href="#using-room-name-attributes">Using Room Name Attributes</a></li><li class="depth2" data-magellan-arrival="understanding-cancellation-change-policy"><a class="sidebar-nav-item" href="#understanding-cancellation-change-policy">Understanding Cancellation & Change Policy</a></li><li class="depth2" data-magellan-arrival="optional-fields-in-a-rate-plan-create-request"><a class="sidebar-nav-item" href="#optional-fields-in-a-rate-plan-create-request">Optional Fields in a Rate Plan Create Request</a></li><li class="depth2" data-magellan-arrival="understanding-occupancy-and-age-category-settings-in-the-room-type-resource"><a class="sidebar-nav-item" href="#understanding-occupancy-and-age-category-settings-in-the-room-type-resource">Understanding Occupancy and Age Category Settings in the Room Type Resource</a></li><li class="depth3" data-magellan-arrival="should-i-define-the-age-for-the-infant-age-category-if-my-room-doesn-t-support-infants-"><a class="sidebar-nav-item" href="#should-i-define-the-age-for-the-infant-age-category-if-my-room-doesn-t-support-infants-">Should I define the age for the Infant age category if my room doesn't support infants?</a></li><li class="depth3" data-magellan-arrival="can-i-define-a-room-where-only-infants-and-adults-are-accepted-no-children-"><a class="sidebar-nav-item" href="#can-i-define-a-room-where-only-infants-and-adults-are-accepted-no-children-">Can I define a room where only Infants and Adults are accepted (no children)?</a></li><li class="depth2" data-magellan-arrival="how-can-i-use-product-api-to-update-rate-plans-requiring-deposit-"><a class="sidebar-nav-item" href="#how-can-i-use-product-api-to-update-rate-plans-requiring-deposit-">How Can I Use Product API to Update Rate Plans Requiring Deposit?</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/product-api/sample-messages.html">Sample Messages</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/product-api/try-it.html">Try It</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/product-api/revision-history.html">Revision History</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/product-api/video.html">Video Tutorial</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/product-api/archived.html">Archived</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h1 id="faq-guides" data-magellan-destination="faq-guides">FAQ &amp; Guides</h1>
<p>This section contains various Frequently Asked Questions, as well as documentation that will help partners understand how Expedia works, and also how to use the product API to correctly reflect partner&#39;s intent when managing room types and rate plans.</p>
<p><a name="/howtogetstarted"></a></p>
<h2 id="how-to-get-started-for-first-time-api-users" data-magellan-destination="how-to-get-started-for-first-time-api-users">How to Get Started for First Time API Users</h2>
<p>For partners that have never worked with Expedia before, and want to know how to get started, please reach us via the <a href="https://expediaconnectivity.com/contact-us">Contact Page</a>.</p>
<h2 id="how-to-get-authorized-to-access-specific-properties" data-magellan-destination="how-to-get-authorized-to-access-specific-properties">How to Get Authorized to Access Specific Properties</h2>
<p>In order to be able to manage properties in production, partners need to be authorized by either Expedia, or the properties that chose to do business with their system.</p>
<p>After a partner successfully registered with Expedia (see <a href="#/howtogetstarted">above section</a> for details on how to get started), properties can decide to select the partner and authorize them via Expedia PartnerCentral. When this happens, the partner will get an email notification. The email will contain the confirmation that the partner is now authorized to manage this hotel via API calls. It will also either contain a specific set of credentials for this property, or will indicate that the partner&#39;s unique account was authorized to manage this additional property. Whether a partner is given a unique account, or one per property, is decided at time of registration with Expedia.</p>
<h2 id="understanding-expedia-lodging-data-model" data-magellan-destination="understanding-expedia-lodging-data-model">Understanding Expedia Lodging Data Model</h2>
<p>In the Expedia lodging data model, properties, room types and rate plans are stored according to the following hierarchy:</p>
<ul>
<li>Each property has at least one room type</li>
<li>Each room type has at least one rate plan</li>
<li>Each rate plan belongs to a single room type</li>
<li>Each rate plan is associated with a single cancellation policy and a single set of additional guest amounts.
The Product API enables partners to first create a room type, and subsequently create rate plans for that room type. For every room type created, the partner is expected to add rate plans to it even if the system will not enforce this rule automatically.</li>
<li>Additionally, for most of our partners, their contract requires that they offer a package rate plan for each standalone rate plan made available to Expedia.</li>
</ul>
<p>The following example illustrates the model and gives an overview of the type of data that needs to be set at various levels.</p>
<p><img src="/images/ExpDataModelToday.png" alt="Data Model Overview with an Example"></p>
<h2 id="simplified-mapping-process-with-product-api" data-magellan-destination="simplified-mapping-process-with-product-api">Simplified mapping process with Product API</h2>
<p>In order to be able to start sending inventory and rates to Expedia, time consuming manual steps used to be required:</p>
<ul>
<li>Contact Expedia via either phone or email to make sure the right room types and rate plans are created</li>
<li>Work with the connectivity system provider to acquire the room types and rate plans loaded in the Expedia system, through either a CSV spreadsheet or an API call</li>
<li>Manually look at the room types and rate plans in the connectivity system, and map them to the corresponding Expedia room types and rate plan IDs</li>
</ul>
<p>With the new product API, these steps can go away. Once the room types and rate plans are defined and exist in the partner connectivity system, the partner simply needs to automatically call the product API to create the room types and rate plans. In the responses returned by the API, the IDs required for mapping are included. The system will know right away what are the IDs to be subsequently used and should be able to map them automatically, right away, using the product API response.</p>
<p><img src="/images/mapping-process.png" alt="Simplified Mapping Process Overview"></p>
<h2 id="does-expedia-offer-json-schema-files-for-product-api-" data-magellan-destination="does-expedia-offer-json-schema-files-for-product-api-">Does Expedia Offer JSON Schema Files for Product API?</h2>
<p>Expedia does not offer JSON schemas, but we do offer a <a href="https://services.expediapartnercentral.com/products/swagger.json">Swagger.json</a> file that should enable our partners to build an integration to Expedia Product API quickly. For more information, please watch our <a href="/apis/product-management/product-api/video.html">Video Tutorial</a>.</p>
<h2 id="product-api-versioning-documentation-and-maintenance-strategy-for-older-versions" data-magellan-destination="product-api-versioning-documentation-and-maintenance-strategy-for-older-versions">Product API Versioning Documentation and Maintenance Strategy for Older Versions</h2>
<p>Product API online documentation will only be maintained for the latest available version. When a new version is published, the documentation on this portal will only reflect the latest version of the API. Moreover, older versions will be kept for at most 6 months after the release of a new version, to give partners time to migrate. Partners using older versions will be notified when versions are slated for retirement and be given time to migrate over.</p>
<p><a name="/v2v3diff"></a></p>
<h2 id="changes-between-product-api-v2-and-v3" data-magellan-destination="changes-between-product-api-v2-and-v3">Changes between Product API V2 and V3</h2>
<p>The V3 version is only applicable for Room level actions (GET, PUT/PATCH, POST). For all Property level and Rateplan level, partners are expected to continue using the V2 version. </p>
<p>Here&#39;s an overview of all the changes and new features contained in V3.</p>
<p>More information about versioning in V2 with http headers can be found in the <a href="reference.html#/versioning">reference section</a>.</p>
<h3 id="new-bedroom-and-living-room-definitions" data-magellan-destination="new-bedroom-and-living-room-definitions">New Bedroom and Living Room definitions</h3>
<p>The way Expedia collects Bedding information has changed significantly. In V2, partners used to give information about Bedding using the standardBedding node. For example, assuming a room included 1 King Bed, this was how partners would have to send this info to Expedia:</p>
<pre><code class="lang-json"> &quot;standardBedding&quot;: [
    {
      &quot;option&quot;: [
        {
          &quot;quantity&quot;: 1,
          &quot;type&quot;: &quot;King Bed&quot;
        }
      ]
    }
  ],
</code></pre>
<p>In the new V3 model, partners need specify this within a <code>bedrooms</code> node. Additionally, partners can also specify bedding info for a Living Room. The Living Room info is purely optional in the V3 model. </p>
<pre><code class="lang-json"> &quot;bedrooms&quot;: [
        {
          &quot;count&quot;: 1,
          &quot;bedding&quot;: [
            {
              &quot;option&quot;: [
                {
                  &quot;quantity&quot;: 1,
                  &quot;type&quot;: &quot;King Bed&quot;,
                  &quot;size&quot;: &quot;King&quot;
                }
              ]
            }
          ]
        }
      ],
      &quot;livingRooms&quot;: [
        {
          &quot;count&quot;: 1,
          &quot;bedding&quot;: [
            {
              &quot;option&quot;: [
                {
                  &quot;quantity&quot;: 1,
                  &quot;type&quot;: &quot;Murphy Bed&quot;,
                  &quot;size&quot;: &quot;Full&quot;
                }
              ]
            }
          ]
        }
      ],
</code></pre>
<p>The &#39;type&#39; of bedding input remains the same as the V2 version. These are listed under the bedTypeEnum section.</p>
<p>There are no changes to the Extra Bedding Definitions between V2 and V3. </p>
<h3 id="roomsize-vs-floorsize" data-magellan-destination="roomsize-vs-floorsize">roomSize vs floorSize</h3>
<p>In the V2 version for Room management, the size of the room (in squareFeet or squareMeters) was represented using the field &#39;roomSize&#39;. In the V3 version, since now we have the notion of a Bedroom and a Living Room, we have replaced this field with &#39;floorSize&#39; to capture this value.</p>
<h2 id="expedia-traveler-preference-program-what-is-it-and-how-is-it-reflected-in-the-property-and-rate-plan-resources-" data-magellan-destination="expedia-traveler-preference-program-what-is-it-and-how-is-it-reflected-in-the-property-and-rate-plan-resources-">Expedia Traveler Preference Program: What Is It, and How Is It Reflected in the Property and Rate Plan Resources?</h2>
<p>Expedia Traveler Preference (ETP) is a program allowing customer to decide whether pay for their reservation at the time of booking or at the hotel.</p>
<p>In order to be able to offer this option to their customers, Expedia requires from the participating properties that they allow their rate plans to be sold either as ExpediaCollect, where Expedia will collect payment from customer at time of booking, or HotelCollect, where the property will collect payment from the customer at time of check out.</p>
<h3 id="identifying-expediatravelerpreference-properties" data-magellan-destination="identifying-expediatravelerpreference-properties">Identifying ExpediaTravelerPreference Properties</h3>
<p>To identify if a property is enabled on the program, the property resource will return an array of 2 distributionModels: ExpediaCollect and HotelCollect:</p>
<pre><code class="lang-json">{
  &quot;distributionModels&quot;: [
    &quot;ExpediaCollect&quot;,
    &quot;HotelCollect&quot;
  ]
}
</code></pre>
<h3 id="identifying-expediatravelerpreference-rate-plans" data-magellan-destination="identifying-expediatravelerpreference-rate-plans">Identifying ExpediaTravelerPreference Rate Plans</h3>
<p>When properties have opted in the program, all their standalone rate plans are required to be enabled for the ExpediaTravelerPreference program. It will translate in having 2 different distribution rules configured for each rate plan. For example, when doing a GET on a rate plan enabled for the program, something like this would be returned:</p>
<pre><code class="lang-json"> {
   &quot;entity&quot;: {
     &quot;resourceId&quot;: 200086494,
     &quot;distributionRules&quot;: [
       {
         &quot;expediaId&quot;: &quot;200086494&quot;,
         &quot;partnerCode&quot;: &quot;ABC123&quot;,
         &quot;distributionModel&quot;: &quot;ExpediaCollect&quot;,
         &quot;manageable&quot;: true,
         &quot;compensation&quot;: {
           &quot;percent&quot;: 0.25,
           &quot;minAmount&quot;: 20
         }
       },
       {
         &quot;expediaId&quot;: &quot;200086494A&quot;,
         &quot;partnerCode&quot;: &quot;DEF123&quot;,
         &quot;distributionModel&quot;: &quot;HotelCollect&quot;,
         &quot;manageable&quot;: false,
         &quot;compensation&quot;: {
           &quot;percent&quot;: 0.25
         }
       }
     ]
   }
 }
</code></pre>
<h3 id="creating-expediatravelerpreference-rate-plans" data-magellan-destination="creating-expediatravelerpreference-rate-plans">Creating ExpediaTravelerPreference Rate Plans</h3>
<p>When a property opted in the program, all its standalone rate plans are required to be enabled for ExpediaTravelerPreference. In order to create an ExpediaTravelerPreference-enabled rate plan with the least amount of information, it minimally needs to contain 2 distribution rules, along with a partner code for each. The partner code doesn&#39;t have to be different between ExpediaCollect and HotelCollect rules, but it has to be unique across all the rate plans under the room type it is created under. Example:</p>
<pre><code class="lang-json">{
  &quot;distributionRules&quot;: [
    {
      &quot;partnerCode&quot;: &quot;A123&quot;,
      &quot;distributionModel&quot;: &quot;ExpediaCollect&quot;
    },
    {
      &quot;partnerCode&quot;: &quot;D123&quot;,
      &quot;distributionModel&quot;: &quot;HotelCollect&quot;
    }
  ]
}
</code></pre>
<p>This will create a rate plan with these 2 codes, and will default everything else.</p>
<h3 id="what-if-a-partner-system-requires-2-distinct-rate-plans-to-support-the-expediatravelerpreference-program-" data-magellan-destination="what-if-a-partner-system-requires-2-distinct-rate-plans-to-support-the-expediatravelerpreference-program-">What if a Partner System Requires 2 Distinct Rate Plans to Support the ExpediaTravelerPreference Program?</h3>
<p>Partners that use 2 distinct rate plans to support the ExpediaTravelerPreference program will need to combine these into 1 rate plan creation request to Expedia. Partners should provide us the codes for their ExpediaCollect and HotelCollect versions under the appropriate distribution rules. They should then consume our responses and map the Expedia IDs returned as part of each distribution rule to obtain the IDs that will later have to be used to interpret booking messages or push avail/rate messages to Expedia.</p>
<h2 id="getting-active-or-all-resources-when-calling-a-list-endpoint" data-magellan-destination="getting-active-or-all-resources-when-calling-a-list-endpoint">Getting Active or All resources when calling a list endpoint</h2>
<p>By default, when partners call one of the list endpoints (properties, room types or rate plans), only active resources are returned. To get all resources including ones that might not be active at the moment, an optional status parameter can be added, with value all. Example for the properties list:</p>
<pre><code class="lang-http">/products/properties?status=all
</code></pre>
<p>This becomes quite important to understand when partners are in the process of creating new room types. By default, room types are created as inactive in Expedia system, and will only become active once the first active rate plan is added. Therefore, if a partner successfully creates a room type, and then attempts to call the /roomTypes endpoint with no parameters, the partner will not receive the room type back in the response, unless they add ?status=all:</p>
<pre><code class="lang-http">/properties/123/roomTypes?status=all
</code></pre>
<p><a name="/update"></a></p>
<h2 id="modify-partial-or-full-overlay-" data-magellan-destination="modify-partial-or-full-overlay-">Modify: partial or full overlay?</h2>
<p>Expedia offers 2 different methods to make changes to products: PUT or PATCH. This guide intends to give an overview of both options. Partners interested in learning more should refer to the <a href="reference.html#modify-an-existing-rate-plan">API Definition</a>.</p>
<p>Partners unsure of which operation to use should always favor the PATCH (partial) update feature. </p>
<h3 id="modifying-with-put" data-magellan-destination="modifying-with-put">Modifying with PUT</h3>
<p>The PUT modify operation is a full overlay. The payload of the modify request needs to include all the elements/attributes returned by read (GET) of this resource (with the exception of the entity element). In the context of a room type modify, if elements such as bed types or age categories are removed, the system will understand this as the user wanting to remove them from the room type.</p>
<p>When making use of the PUT method, Partners are expected to first issue a GET request to read the resource, and then edit what they need to change. Once done, they should resubmit the whole payload with the changes. Issuing a GET first, before making any modification, is quite important as changes to resources can be made via other means. Partners or Expedia Market Managers can make changes via ExpediaPartnerCentral. To find out the latest state of the resource, it is best to do a GET first before making any change to it.</p>
<p>For the most part, partners are allowed to modify the same objects that are manageable in the create operation. In the context of the room type, it is true for most objects/elements. In the context of a rate plan, some things cannot be changed after creation, like the distribution models for example.</p>
<h3 id="modifying-with-patch" data-magellan-destination="modifying-with-patch">Modifying with PATCH</h3>
<p>The PATCH modify operation is a way for our partners to only send what they&#39;d like to modify on a resource. </p>
<p>Expedia implemented the Merge-PATCH strategy. Partners can send any of the top level elements they&#39;d wish to modify, and omit the ones they do not want to change. Expedia will take care of merging the resource updates and preserve what was not included at the resource&#39;s top level.</p>
<p>It is important to note that any top level object is treated as a full overlay even when using Merge-PATCH. For example, if a partner decides to include the cancelPolicy object, all the elements/values of that object need to be included as this specific object update will be treated as a full overlay.</p>
<h2 id="understanding-expedia-s-logic-around-room-names" data-magellan-destination="understanding-expedia-s-logic-around-room-names">Understanding Expedia&#39;s Logic Around Room Names</h2>
<p>When naming their room types, partners using the room type resource are required to provide the name in one of 2 ways:</p>
<ul>
<li>Use one of the predefined room names</li>
<li>Building a name from room-level attributes</li>
</ul>
<p>Expedia is unable to accept free text room names from its partners. Because Expedia has points of sale in more than 45 languages, and want to offer the best experience to all its customers around the world, it requires to receive names in a structured way, to enable instant availability in all languages.</p>
<h3 id="using-predefined-names" data-magellan-destination="using-predefined-names">Using Predefined Names</h3>
<p>When using a predefined room name, creating a room type is quite straightforward. When it comes to providing the name, all a partner has to do is provide one of these predefined names under the value element:</p>
<pre><code class="lang-json">{
  &quot;name&quot;: {
    &quot;value&quot;: &quot;Junior Suite&quot;
  }
}
</code></pre>
<p><a href="reference.html#/definitions/PredefinedRoomNamesEnum">Available predefined room names</a> can be found in the API Definition section.</p>
<h3 id="using-room-name-attributes" data-magellan-destination="using-room-name-attributes">Using Room Name Attributes</h3>
<p>For partners who want to convey more information about their room with their room names,  Expedia offers the possibility to build a name from structured attributes. There are up to 10 different attributes that can be used to build a name. However, because Expedia also has a constraint on the lenght of the room names, not all 10 attributes can be used all at once.</p>
<p>It is recommended for our partners to provide all the attributes they would like to be part of the name. Expedia will then only use the ones deemed more relevant if too many attributes are received. Example with all attributes selected:</p>
<pre><code class="lang-json">{
  &quot;name&quot;: {
    &quot;attributes&quot;: {
      &quot;typeOfRoom&quot;: &quot;Studio&quot;,
      &quot;roomClass&quot;: &quot;Basic&quot;,
      &quot;includeBedType&quot;: true,
      &quot;bedroomDetails&quot;: &quot;1 Bedroom&quot;,
      &quot;includeSmokingPref&quot;: true,
      &quot;accessibility&quot;: true,
      &quot;view&quot;: &quot;Beach View&quot;,
      &quot;featuredAmenity&quot;: &quot;Hot Tub&quot;,
      &quot;area&quot;: &quot;Corner&quot;,
      &quot;customLabel&quot;: &quot;Blue Room&quot;
    }
  }
}
</code></pre>
<p>For partners who want more control over their names and which attributes get used, they can refer to the table below indicating our groupings and what is the maximum number of attributes Expedia will use from each group.</p>
<div><table>
<thead>
<tr>
<th>Attribute name</th>
<th>Group</th>
<th>Optional</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>typeOfRoom</td>
<td>-</td>
<td>No</td>
<td>Required and always used.</td>
</tr>
<tr>
<td>roomClass</td>
<td>-</td>
<td>Yes</td>
<td>Always used in name if provided.</td>
</tr>
<tr>
<td>includeBedType</td>
<td>Bedding</td>
<td>Yes</td>
<td>Part of a grouping of 2 elements. Only 1 of the 2 will be used if both are specified in this group. Bed type name might not be used as is for the more complicated options. Expedia can default to use &quot;Multiple Beds&quot;.</td>
</tr>
<tr>
<td>bedroomDetails</td>
<td>Bedding</td>
<td>Yes</td>
<td>Part of a grouping of 2 elements. Only 1 of the 2 will be used if both are specified in this group.</td>
</tr>
<tr>
<td>includeSmokingPref</td>
<td>Key Features</td>
<td>Yes</td>
<td>Part of a grouping of 5 elements. Expedia will use a maximum of 2 attributes from this group.</td>
</tr>
<tr>
<td>accessibility</td>
<td>Key Features</td>
<td>Yes</td>
<td>Part of a grouping of 5 elements. Expedia will use a maximum of 2 attributes from this group. Indicate if room is accessible to wheelchairs.</td>
</tr>
<tr>
<td>view</td>
<td>Key Features</td>
<td>Yes</td>
<td>Part of a grouping of 5 elements. Expedia will use a maximum of 2 attributes from this group.</td>
</tr>
<tr>
<td>featuredAmenity</td>
<td>Key Features</td>
<td>Yes</td>
<td>Part of a grouping of 5 elements. Expedia will use a maximum of 2 attributes from this group.</td>
</tr>
<tr>
<td>area</td>
<td>Key Features</td>
<td>Yes</td>
<td>Part of a grouping of 5 elements. Expedia will use a maximum of 2 attributes from this group.</td>
</tr>
<tr>
<td>customLabel</td>
<td>-</td>
<td>Yes</td>
<td>Always used in name if provided.</td>
</tr>
</tbody>
</table>
</div><p>For more information about the various possible values and constraints on each of these attributes, please refer to the <a href="reference.html#/definitions/RnsAttributesDTO">API Definition section</a>.</p>
<p><a name="/cancelpolicy"></a></p>
<h2 id="understanding-cancellation-change-policy" data-magellan-destination="understanding-cancellation-change-policy">Understanding Cancellation &amp; Change Policy</h2>
<p>The Cancellation &amp; Change Policy is applicable when a customer either wants to cancel a reservation or when he makes a change to a reservation that would cause the total amount of the initial reservation to be different. Changes impacting the reservation rate include: a change of room type, rate plan, occupancy or dates. For more detailed information on Cancellation &amp; Change Policy please see the <a href="reference.html#/definitions/CancelPolicyDTO">reference</a>.</p>
<p>Cancellation and change policy is optional when creating a new rate plan.</p>
<ul>
<li>If provided, partners are required to provide at least one defaultPenalty with one deadline in hours, and a penalty.</li>
<li>If no cancellation policy is provided in a create rate plan request, Expedia will try to select one which already exists, is refundable, and was most recently used by an active rate plan of the same type (standalone, package or corporate)</li>
<li>If no cancellation policy can be found due to not having any active rate plan of the required type, we will default to a standard cancellation policy where the cancellation deadline is set to 24h from guest arrival, the penalty for cancelling inside this deadline is one night room and tax, and there is no penalty for cancelling outside of this deadline. </li>
</ul>
<p>When providing a cancel policy, partners can provide one or two defaultPenalties object.</p>
<ul>
<li>At least one defaultPenalty must be provided, with a deadline set to 0.</li>
<li>If no other default penalty is provided, there will be a single strategy applied, defined by that defaultPenalty per stay fee and amount.</li>
<li>In addition to the default penalty with a deadline set at 0, only one additional defaultPenalty can be provided (for a total of 2). </li>
<li>If a second penalty is provided, its deadline must be greater than 0, and less than 1000.</li>
<li>It is currently not possible to provide more than 2 defaultPenalties. Expedia can only manage 2 different penalties per cancellation &amp; change policy.</li>
</ul>
<p>Partners can optionally add exceptions objects.</p>
<ul>
<li>startDate and endDate are both required</li>
<li>It is not allowed to provide exceptions with end dates in the past in a create or update message. Exceptions with end dates in the past will not be returned in GET responses.</li>
<li>Exception date ranges cannot overlap: if more than 1 exception is provided, Expedia will make sure that there are no date overlaps between 2 exception objects.</li>
<li>The rules and validations around the penalties included in an exception are the same as with the defaultPenalties object (min 1, max 1 deadlines, deadline 0 required, etc.)</li>
</ul>
<p>When exceptions are defined, Expedia will apply a cancel policy to a booking based on the booking start/arrival date. See example 1 below for a concrete example of what this means.</p>
<p><strong>Example 1</strong> : Assume a cancel policy with only one exception defined:</p>
<ul>
<li>By default, if a customer cancels 72h or less before a property&#39;s cancellation time, the customer pays the full amount of the reservation. If he cancels more than 72h before the property&#39;s cancellation time, the customer pays no penalty.</li>
<li>For dates from June 2nd to July 15th inclusively, the rate plan is not refundable.</li>
</ul>
<p>To reflect such terms, a partner should send:</p>
<pre><code class="lang-json">{
  &quot;cancelPolicy&quot;: {
    &quot;defaultPenalties&quot;: [
      {
        &quot;deadline&quot;: 0,
        &quot;perStayFee&quot;: &quot;FullCostOfStay&quot;,
        &quot;amount&quot;: 0
      },
      {
        &quot;deadline&quot;: 72,
        &quot;perStayFee&quot;: &quot;None&quot;,
        &quot;amount&quot;: 0
      }
    ],
    &quot;exceptions&quot;: [
      {
        &quot;startDate&quot;: &quot;2016-06-02&quot;,
        &quot;endDate&quot;: &quot;2016-07-15&quot;,
        &quot;penalties&quot;: [
          {
            &quot;deadline&quot;: 0,
            &quot;perStayFee&quot;: &quot;FullCostOfStay&quot;,
            &quot;amount&quot;: 0
          }
        ]
      }
    ]
  }
}
</code></pre>
<p><strong>How will Expedia decide which penalty to apply to a booking based on example 1&#39;s policy?</strong> 
Expedia picks a cancel policy to apply based on arrival date. For example:</p>
<ul>
<li>Assume a booking is made for arrival on June 1st, for 3 nights:  because the arrival date is outside of the range of dates covered by the exception, the default policy applies. </li>
<li>Assume a booking is made for arrival on July 15th, for 3 nights: because the arrival date falls on the last date of the exception, the exception policy applies.</li>
</ul>
<p><strong>Example 2</strong> : Considering the following policy: </p>
<ul>
<li>If a customer cancels between 24h or less before property&#39;s cancellation time, the customer pays for one night.</li>
<li>If a customer cancels more than 24h before property&#39;s cancellation time, the customer pays no penalty.</li>
</ul>
<p>To reflect such terms, a partner should send:</p>
<pre><code class="lang-json">{
  &quot;cancelPolicy&quot;: {
    &quot;defaultPenalties&quot;: [
      {
        &quot;deadline&quot;: 0,
        &quot;perStayFee&quot;: &quot;1stNightRoomAndTax&quot;,
        &quot;amount&quot;: 0.0
      }, {
        &quot;deadline&quot;: 24,
        &quot;perStayFee&quot;: &quot;None&quot;,
        &quot;amount&quot;: 0.0
      }
    ]
  }
}
</code></pre>
<p><strong>Example 3</strong> : variation of the above example, where </p>
<ul>
<li>cancellations within 24h of property cancellation time deadline should be charged 1 night room and tax</li>
<li>cancellations further out should incur a 5 unit of currency penalty (for example 5 GBP for a London, UK property, assuming property rate acquisition type is SellLAR)</li>
</ul>
<p>To reflect such terms, a partner should send:</p>
<pre><code class="lang-json">{
  &quot;cancelPolicy&quot;: {
    &quot;defaultPenalties&quot;: [
      {
        &quot;deadline&quot;: 0,
        &quot;perStayFee&quot;: &quot;1stNightRoomAndTax&quot;,
        &quot;amount&quot;: 0.0
      },
      {
        &quot;deadline&quot;: 24,
        &quot;perStayFee&quot;: &quot;None&quot;,
        &quot;amount&quot;: 5.0
      }
    ]
  }
}
</code></pre>
<p><strong>Example 4</strong> : if a policy is non-refundable, partner should send:</p>
<pre><code class="lang-json">{
  &quot;cancelPolicy&quot;: {
    &quot;defaultPenalties&quot;: [
      {
        &quot;deadline&quot;: 0,
        &quot;perStayFee&quot;: &quot;FullCostOfStay&quot;,
        &quot;amount&quot;: 0.0
      }
    ]
  }
}
</code></pre>
<h2 id="optional-fields-in-a-rate-plan-create-request" data-magellan-destination="optional-fields-in-a-rate-plan-create-request">Optional Fields in a Rate Plan Create Request</h2>
<p>In a rate plan create request, most fields are optional. If an optional field is not provided, it will be defaulted per specific rules found in the API Definition section. </p>
<p>Some of the fields cannot be set by the user; these will default to values defined by Expedia. </p>
<p>The create response will contain all the fields originally provided in the request. It also includes the default values of the fields that were not provided in the request. If an error occurred, the response contains one or more errors.</p>
<p><em>About optional fields</em>: some optional fields may not have any values defined in the Expedia system. In this case the fields are omitted completely in the response.</p>
<p><em>About fields documented as not accepted in request, but returned in response</em>: If such fields (e.g. Compensation) are provided in the request, the API validates that the data provided matches what Expedia defaults to. Otherwise, the API rejects the rate plan creation with an error message indicating why it was rejected. For example, a partner does not need to specify the Compensation in the product create request. If a partner was to include the compensation elements in a request, the API will check whether it matches the property contract, and reject the message if does not. </p>
<p><a name="/occupancyAgeCategory"></a></p>
<h2 id="understanding-occupancy-and-age-category-settings-in-the-room-type-resource" data-magellan-destination="understanding-occupancy-and-age-category-settings-in-the-room-type-resource">Understanding Occupancy and Age Category Settings in the Room Type Resource</h2>
<p>Age categories are used for 2 different things in Expedia system: confirm if the room supports adults and children, and define additional guest amounts per age category. </p>
<p>Occupancy settings define the maximum occupancy of the room by number of adulds, children and total. Unlike the age categories, there&#39;s no granularity in the configuration for children. There is however a relationship between the age categories and the occupancy settings. If a room accepts children in its occupancy, and a partner wants to define a maxium number of children under the occupancy element, Expedia will expect that the age categories include at least one ChildAge category, or Infant. If it is not the case, Expedia will reject the message.</p>
<p>When a room supports children and infants, assuming a room can accomodate up to 4 people, Expedia would expect to receive a configuration similar to this:</p>
<pre><code class="lang-json">{
  &quot;ageCategories&quot;: [
    {
      &quot;category&quot;: &quot;Adult&quot;,
      &quot;minAge&quot;: 18
    },
    {
      &quot;category&quot;: &quot;ChildAgeA&quot;,
      &quot;minAge&quot;: 0
    }
  ],
  &quot;maxOccupancy&quot;: {
    &quot;total&quot;: 4,
    &quot;adults&quot;: 4,
    &quot;children&quot;: 3
  }
}
</code></pre>
<p>If a room doesn&#39;t support children, Expedia would expect to receive something like this:</p>
<pre><code class="lang-json">{
  &quot;ageCategories&quot;: [
    {
      &quot;category&quot;: &quot;Adult&quot;,
      &quot;minAge&quot;: 18
    }
  ],
  &quot;maxOccupancy&quot;: {
    &quot;total&quot;: 4,
    &quot;adults&quot;: 4
  }
}
</code></pre>
<p>If a room supports children, but only older children (for example 16+), Expedia would expect to receive something like this:</p>
<pre><code class="lang-json">{
  &quot;ageCategories&quot;: [
    {
      &quot;category&quot;: &quot;Adult&quot;,
      &quot;minAge&quot;: 18
    },
    {
      &quot;category&quot;: &quot;ChildAgeA&quot;,
      &quot;minAge&quot;: 16
    }
  ],
  &quot;maxOccupancy&quot;: {
    &quot;total&quot;: 4,
    &quot;adults&quot;: 4,
    &quot;children&quot;: 3
  }
}
</code></pre>
<p>A partner who intends to charge children as adults and only accept older children of 16+ could consider doing something like this as well:</p>
<pre><code class="lang-json">{
  &quot;ageCategories&quot;: [
    {
      &quot;category&quot;: &quot;Adult&quot;,
      &quot;minAge&quot;: 16
    }
  ],
  &quot;maxOccupancy&quot;: {
    &quot;total&quot;: 4,
    &quot;adults&quot;: 4
  }
}
</code></pre>
<h3 id="should-i-define-the-age-for-the-infant-age-category-if-my-room-doesn-t-support-infants-" data-magellan-destination="should-i-define-the-age-for-the-infant-age-category-if-my-room-doesn-t-support-infants-">Should I define the age for the Infant age category if my room doesn&#39;t support infants?</h3>
<p>Partners should never send Expedia the infant age category definition if their room doesn&#39;t support infants. Due to the way occupancy is calculated, there&#39;s only one count for any non-adult age category: the children count. It is not possible to send a count of 0 infants. For that reason, it is critical that partners who cannot take infants in their rooms do not define the infant age category at all. </p>
<p>As a best practice, partners should only ever define the age categories for which they can support taking guests. The examples defined in the previous section were designed with this principle in mind.</p>
<h3 id="can-i-define-a-room-where-only-infants-and-adults-are-accepted-no-children-" data-magellan-destination="can-i-define-a-room-where-only-infants-and-adults-are-accepted-no-children-">Can I define a room where only Infants and Adults are accepted (no children)?</h3>
<p>Expedia doesn&#39;t support defining room configurations where no children would be allowed but it would be possible to accept infants.</p>
<p>This should be clear for partners once they understand Expedia&#39;s logic for count of occupants and age category definition. We already explained the logic for the number of occupants in the previous section. It is also important to know that there is no &quot;max age&quot; explicitly defined for an age category. The max age of a given category is equivalent to the (min age-1) of the next defined category.</p>
<p>If a partner was to send something like this:</p>
<pre><code class="lang-json">{
  &quot;ageCategories&quot;: [
    {
      &quot;category&quot;: &quot;Adult&quot;,
      &quot;minAge&quot;: 18
    },
    {
      &quot;category&quot;: &quot;Infant&quot;,
      &quot;minAge&quot;: 0
    }
  ],
  &quot;maxOccupancy&quot;: {
    &quot;total&quot;: 3,
    &quot;adults&quot;: 2,
    &quot;children&quot;: 1
  }
}
</code></pre>
<p>The outcome of this request would be that any guest aged from 0 to 17 would be considered an Infant, and anyone 18 or above would be considered an adult.</p>
<p><a name="/patchdepositrequired"></a></p>
<h2 id="how-can-i-use-product-api-to-update-rate-plans-requiring-deposit-" data-magellan-destination="how-can-i-use-product-api-to-update-rate-plans-requiring-deposit-">How Can I Use Product API to Update Rate Plans Requiring Deposit?</h2>
<p>With the introduction of the <a href="/apis/product-management/deposit-api/quick-start.html">Deposit API</a>, some partners might be interested in managing only the depositRequired flag of rate plans, in order to indicate which rate plans should make use of a deposit policy. If a partner knows which rate plans (and corresponding room type IDs) should make use of the policy, they can be PATCHed with the following operation:</p>
<pre><code class="lang-http">PATCH https://services.expediapartnercentral.com/properties/{Expedia Property ID}/roomTypes/{room type ID of the rate plan to be patched}/ratePlans/{rate plan ID to be update}
Accept: application/vnd.expedia.eps.product-v2+json
Content-Type: application/vnd.expedia.eps.product-v2+json
</code></pre>
<pre><code class="lang-json">{
  &quot;depositRequired&quot;: true
}
</code></pre>
<p>The same operation needs to be repeated for all rate plans requiring a deposit.</p>
<p>If a partner doesn&#39;t know the room type or rate plan IDs, they can be discovered by using our GET roomTypes and GET ratePlans calls. For example, to list all room types of a property:</p>
<pre><code class="lang-http">GET https://services.expediapartnercentral.com/properties/{Expedia Property ID}/roomTypes
</code></pre>
<p>This will give back a list of active roomTypes. A query parameter (?status=all) could be added to return all room types, both active and inactive. This shouldn&#39;t be needed since inactive room types wouldn&#39;t be available to our customers, therefore updating the depositRequired flag would have no visible effect for them.</p>
<p>Then, to get the rate plans, partner can iterate on each room type, and request all rate plans for each room types, using:</p>
<pre><code class="lang-http">GET https://services.expediapartnercentral.com/properties/{Expedia Property ID}/roomTypes/{Expedia room type ID}/ratePlans
</code></pre>
<p>This will give back a list of active rate plans. A query parameter (?status=all) could again be added, to return active and inactive rate plans.</p>
<p>Once all room types/rate plans have been identified, the ones requiring a deposit could be updated with the same PATCH call as above.</p>
<p>It is important to know that only HotelCollect or Expedia Traveler Preference (HotelCollect/ExpediaCollect) rate plans can be updated to require a deposit.</p>
</div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Partner Central</a><a class="link-item" href="https://help.expediapartnercentral.com/en/your-connectivity/connectivity?hotel_id=14831843" target="_blank">Help Center</a><a class="link-item" href="/privacy">Privacy Policy</a><a class="link-item" href="/cookies">Cookie Policy</a><a class="link-item last" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2020 Expedia Group. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>