<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sample Messages - Deposit API</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/foundation-icons.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><!-- for jQuery >= 3.2.0 there is a strange bug that cause .outerWidth() in Safari returns wrong value when page first load. It will break our logo slider. Last checked on jQuery 3.3.1--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/vendor/modernizr.js" async></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-all.js" async></script><script src="/js/environment.js"></script><script src="/js/suga-slider.js"></script><script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script><script>WebFont.load({
    google: {
        families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]
            }
});</script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async></script></head><link rel="stylesheet" href="/css/api-content.css"><body><div id="google_translate_element" style="display: none;"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout(); return false;">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/EGLPS_logo_white_RGB.svg"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">System Providers</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div><span id="cookies-alert"><a id="cookies-link" href="/cookies"><span class="fi-info">&nbsp;This site uses cookies</span></a></span></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none;" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu api-menu"><nav role="navigation" class="sidebar-nav"><header>Deposit API</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/deposit-api/quick-start.html">Quick Start</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/deposit-api/reference.html">API Definition</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/deposit-api/guides.html">FAQ & Guides</a></li><li class="pagename" data-magellan-arrival="sample-messages"><a class="sidebar-nav-item" href="#sample-messages">Sample Messages</a></li><li class="depth2" data-magellan-arrival="reading-the-deposit-policy-of-a-property"><a class="sidebar-nav-item" href="#reading-the-deposit-policy-of-a-property">Reading the deposit policy of a property</a></li><li class="depth2" data-magellan-arrival="creating-the-default-deposit-policy-of-a-property"><a class="sidebar-nav-item" href="#creating-the-default-deposit-policy-of-a-property">Creating the default deposit policy of a property</a></li><li class="depth2" data-magellan-arrival="specifying-exceptions-to-the-default-deposit-policy-of-a-property"><a class="sidebar-nav-item" href="#specifying-exceptions-to-the-default-deposit-policy-of-a-property">Specifying exceptions to the default deposit policy of a property</a></li><li class="depth2" data-magellan-arrival="deleting-the-deposit-policy-of-a-property"><a class="sidebar-nav-item" href="#deleting-the-deposit-policy-of-a-property">Deleting the deposit policy of a property</a></li><li class="depth2" data-magellan-arrival="getting-errors-from-the-deposit-api"><a class="sidebar-nav-item" href="#getting-errors-from-the-deposit-api">Getting errors from the Deposit API</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/deposit-api/try-it.html">Try It</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/deposit-api/revision-history.html">Revision History</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h1 id="sample-messages" data-magellan-destination="sample-messages">Sample Messages</h1>
<p>This section contains sample messages illustrating how to interact with the Deposit API.</p>
<h2 id="reading-the-deposit-policy-of-a-property" data-magellan-destination="reading-the-deposit-policy-of-a-property">Reading the deposit policy of a property</h2>
<p>To read the deposit policy of a property, a GET of /depositPolicy for the property will return it:</p>
<pre><code class="lang-text">GET https://services.expediapartnercentral.com/properties/12933870/depositPolicy
Accept: application/json
</code></pre>
<pre><code class="lang-json">{
  &quot;entity&quot;: {
    &quot;defaultPolicy&quot;: {
      &quot;payments&quot;: [
        {
          &quot;type&quot;: &quot;PERCENT&quot;,
          &quot;value&quot;: 10,
          &quot;when&quot;: {
            &quot;type&quot;: &quot;UPON_BOOKING&quot;
          }
        },
        {
          &quot;type&quot;: &quot;PERCENT&quot;,
          &quot;value&quot;: 40,
          &quot;when&quot;: {
            &quot;type&quot;: &quot;DAYS_PRIOR&quot;,
            &quot;value&quot;: 30
          }
        },
        {
          &quot;type&quot;: &quot;PERCENT&quot;,
          &quot;value&quot;: 25,
          &quot;when&quot;: {
            &quot;type&quot;: &quot;DAYS_PRIOR&quot;,
            &quot;value&quot;: 15
          }
        },
        {
          &quot;type&quot;: &quot;REMAINDER&quot;,
          &quot;when&quot;: {
            &quot;type&quot;: &quot;UPON_ARRIVAL&quot;
          }
        }
      ]
    },
    &quot;exceptionPolicies&quot;: [
      {
        &quot;description&quot;: &quot;Peak Summer Season&quot;,
        &quot;dateRanges&quot;: [
          {
            &quot;startDate&quot;: &quot;2017-06-25&quot;,
            &quot;endDate&quot;: &quot;2017-07-31&quot;,
            &quot;daysOfWeek&quot;: [
              &quot;SUN&quot;,
              &quot;MON&quot;,
              &quot;TUE&quot;,
              &quot;WED&quot;,
              &quot;THU&quot;,
              &quot;FRI&quot;,
              &quot;SAT&quot;
            ]
          },
          {
            &quot;startDate&quot;: &quot;2017-08-13&quot;,
            &quot;endDate&quot;: &quot;2017-08-31&quot;,
            &quot;daysOfWeek&quot;: [
              &quot;SUN&quot;,
              &quot;MON&quot;,
              &quot;TUE&quot;,
              &quot;WED&quot;,
              &quot;THU&quot;,
              &quot;FRI&quot;,
              &quot;SAT&quot;
            ]
          }
        ],
        &quot;payments&quot;: [
          {
            &quot;type&quot;: &quot;PERCENT&quot;,
            &quot;value&quot;: 100,
            &quot;when&quot;: {
              &quot;type&quot;: &quot;UPON_BOOKING&quot;
            }
          }
        ]
      },
      {
        &quot;description&quot;: &quot;Low Season&quot;,
        &quot;dateRanges&quot;: [
          {
            &quot;startDate&quot;: &quot;2017-09-01&quot;,
            &quot;endDate&quot;: &quot;2017-11-30&quot;,
            &quot;daysOfWeek&quot;: [
              &quot;SUN&quot;,
              &quot;FRI&quot;,
              &quot;SAT&quot;
            ]
          }
        ],
        &quot;payments&quot;: [
          {
            &quot;type&quot;: &quot;NIGHT&quot;,
            &quot;value&quot;: 1,
            &quot;when&quot;: {
              &quot;type&quot;: &quot;UPON_BOOKING&quot;
            }
          }
        ]
      }
    ],
    &quot;_links&quot;: {
      &quot;self&quot;: {
        &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/depositPolicy&quot;
      },
      &quot;ratePlans&quot;: [
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706774/ratePlans/208503977&quot;
        },
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706774/ratePlans/208504009&quot;
        },
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706774/ratePlans/208537868&quot;
        },
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706639/ratePlans/208503427&quot;
        },
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706639/ratePlans/208511485&quot;
        },
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706639/ratePlans/208511588&quot;
        },
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706639/ratePlans/208537732&quot;
        },
        {
          &quot;href&quot;: &quot;https://services.expediapartnercentral.com/properties/12933870/roomTypes/201706639/ratePlans/208537755&quot;
        }
      ]
    }
  }
}
</code></pre>
<h2 id="creating-the-default-deposit-policy-of-a-property" data-magellan-destination="creating-the-default-deposit-policy-of-a-property">Creating the default deposit policy of a property</h2>
<p>To setup the default deposit policy of a property, you can provide a policy without any exceptions.</p>
<pre><code class="lang-text">PUT https://services.expediapartnercentral.com/properties/12933870/depositPolicy
Accept: application/json
Content-Type: application/json
</code></pre>
<pre><code class="lang-json">{
  &quot;defaultPolicy&quot;: {
    &quot;payments&quot;: [
      {
        &quot;type&quot;: &quot;PERCENT&quot;,
        &quot;value&quot;: 50.0,
        &quot;when&quot;: {
          &quot;type&quot;: &quot;UPON_BOOKING&quot;
        }
      },      
      {
        &quot;type&quot;: &quot;REMAINDER&quot;,
        &quot;when&quot;: {
          &quot;type&quot;: &quot;UPON_ARRIVAL&quot;
        }
      }
    ]
  }
}
</code></pre>
<p>This would setup a simply policy that is applicable all the time, where 50% of the payment is asked upfront upon booking and the remainder is collected upon arrival.</p>
<p>The response when successful will only return a 201 Created without a reponse body.</p>
<h2 id="specifying-exceptions-to-the-default-deposit-policy-of-a-property" data-magellan-destination="specifying-exceptions-to-the-default-deposit-policy-of-a-property">Specifying exceptions to the default deposit policy of a property</h2>
<p>On top of the default policy, the partner can also specify exceptions that are applicable for certain date ranges.</p>
<pre><code class="lang-text">PUT https://services.expediapartnercentral.com/properties/12933870/depositPolicy
Accept: application/json
Content-Type: application/json
</code></pre>
<pre><code class="lang-json">{
  &quot;defaultPolicy&quot;: {
    &quot;payments&quot;: [
      {
        &quot;type&quot;: &quot;PERCENT&quot;,
        &quot;value&quot;: 50.0,
        &quot;when&quot;: {
          &quot;type&quot;: &quot;UPON_BOOKING&quot;
        }
      },
      {
        &quot;type&quot;: &quot;REMAINDER&quot;,
        &quot;when&quot;: {
          &quot;type&quot;: &quot;UPON_ARRIVAL&quot;
        }
      }
    ]
  },
  &quot;exceptionPolicies&quot;: [
    {
      &quot;dateRanges&quot;: [
        {
          &quot;startDate&quot;: &quot;2017-06-25&quot;,
          &quot;endDate&quot;: &quot;2017-07-31&quot;,
          &quot;daysOfWeek&quot;: [
            &quot;SAT&quot;,
            &quot;SUN&quot;
          ]
        }
      ],
      &quot;description&quot;: &quot;Peak Summer Season Weekends&quot;,
      &quot;payments&quot;: [
        {
          &quot;type&quot;: &quot;PERCENT&quot;,
          &quot;value&quot;: 100,
          &quot;when&quot;: {
            &quot;type&quot;: &quot;UPON_BOOKING&quot;
          }
        }
      ]
    }
  ]
}
</code></pre>
<p>In this case, we&#39;d be overriding the default deposit policy for weekends between June 25th and August 31st where 100% of the payment is asked upfront upon booking, instead of the default policy where only half is aksed upon booking and the remainder is collected upon arrival.</p>
<h2 id="deleting-the-deposit-policy-of-a-property" data-magellan-destination="deleting-the-deposit-policy-of-a-property">Deleting the deposit policy of a property</h2>
<p>The partner can issue a delete statement to prevent the deposit policy from being applied.</p>
<pre><code class="lang-text">DELETE https://services.expediapartnercentral.com/properties/12933870/depositPolicy
Accept: application/json
</code></pre>
<p>The response when successful will only return a 204 No Content without a reponse body.</p>
<h2 id="getting-errors-from-the-deposit-api" data-magellan-destination="getting-errors-from-the-deposit-api">Getting errors from the Deposit API</h2>
<p>Here&#39;s an example of how the Deposit API returns errors to customers. If a partner provides an invalid propertyId:</p>
<pre><code class="lang-text">GET https://services.expediapartnercentral.com/properties/123/depositPolicy
Accept: application/json
</code></pre>
<p>An error is returned</p>
<pre><code class="lang-json">{
    &quot;errors&quot;: [
        {
            &quot;code&quot;: 1000,
            &quot;message&quot;: &quot;Access denied: your account is not authorized to manage this property.&quot;
        }
    ]
}
</code></pre>
</div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Partner Central</a><a class="link-item" href="https://help.expediapartnercentral.com/en/your-connectivity/connectivity?hotel_id=14831843" target="_blank">Help Center</a><a class="link-item" href="/privacy">Privacy Policy</a><a class="link-item" href="/cookies">Cookie Policy</a><a class="link-item last" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2020 Expedia Group. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>