<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sample Messages - Image API (Experimental)</title><meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Expedia Connectivity</title>

<link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/foundation.min.css">
<link rel="stylesheet" href="/css/code/styles/github-gist.css">
<link rel="stylesheet" href="/css/styles.css">

<link rel="icon" href="/favicon.ico" />
<link rel="stylesheet" href="/css/he-animate.css">

<script src="/js/jquery.js"></script>
<script src="/js/vendor/modernizr.js"></script>
<script src="/js/highlight.pack.js"></script>
<script src="/js/foundation.min.js"></script>
<script src="/js/Core.js"></script>
<script src="/js/he-main.js"></script>
<script src="/js/he-plugins.js"></script>
<script src="/js/he-smoothscroll.js"></script>
<script src="/js/he-waypoints.js"></script>
<script>
    $(document).ready(function() {
        $('.api-content pre>code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
        Core.init();
    });

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-79394707-1', 'auto');
    ga('send', 'pageview');
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
    }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head><body><div id="google_translate_element" style="display: none;"></div>
<header id="site-navigation">
    <nav id="nav-top" class="row full-width">
        <div class="inner">
            <ul>
                <li id="hotelnav" style="display:none"><a href="/test-properties/hotels">Hotels</a></li>
                <li id="apikeynav" style="display:none"><a href="/test-properties/apikeys">API Keys</a></li>
                <li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li>
            </ul>
        </div>
    </nav>
    <nav id="nav-main" class="row full-width">
        <div class="inner">
            <a id="logo" href="/">
                <img src="/images/DevLogo_40k.png" />
            </a>

            <div id="menu-toggle" class="hide-for-large-up"></div>
            <div id="menu-wrap">
                <div class="hide-for-large-up"></div>
                <ul>
                    <li class="mainlink"><a href="/providers">Connectivity for Providers</a></li>
                    <li class="mainlink"><a href="/properties">Connectivity for Properties</a></li>
                    <li class="mainlink"><a href="/systems">Systems</a></li>
                    <li class="mainlink"><a href="/developer">Developer APIs</a></li>
                    <li class="mainlink"><a href="/contact-us">Contact Us</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="row full-width"><div class="off-canvas-nav-bar sticky"><nav class="top-bar tab-bar hide-for-medium-up" data-topbar role="navigation"><section class="left-small"><a class="left-off-canvas-toggle menu-icon" href=""><span></span></a></section><section class="middle tab-bar-section"><span class="title"></span></section></nav></div></div><div class="row full-width"><div class="hide-for-small-only medium-3 large-2 columns menu"><nav role="navigation" class="sidebar-nav"><header>Image API (Experimental)</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/image-api/quick-start.html">Quick Start</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/image-api/reference.html">API Definition</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/image-api/guides.html">FAQ &amp; Guides</a></li><li class="pagename" data-magellan-arrival="sample-messages"><a class="sidebar-nav-item" href="#sample-messages">Sample Messages</a></li><li class="depth2" data-magellan-arrival="reading-all-active-images"><a class="sidebar-nav-item" href="#reading-all-active-images">Reading all Active Images</a></li><li class="depth2" data-magellan-arrival="reading-all-images-active-and-inactive-"><a class="sidebar-nav-item" href="#reading-all-images-active-and-inactive-">Reading all Images (Active and Inactive)</a></li><li class="depth2" data-magellan-arrival="adding-a-new-image-for-a-property-with-minimum-data"><a class="sidebar-nav-item" href="#adding-a-new-image-for-a-property-with-minimum-data">Adding a New Image for a Property With Minimum Data</a></li><li class="depth2" data-magellan-arrival="adding-a-new-image-for-multiple-room-types"><a class="sidebar-nav-item" href="#adding-a-new-image-for-multiple-room-types">Adding a New Image for Multiple Room Types</a></li><li class="depth2" data-magellan-arrival="verifying-state-of-a-newly-added-image"><a class="sidebar-nav-item" href="#verifying-state-of-a-newly-added-image">Verifying State of a Newly Added Image</a></li><li class="depth2" data-magellan-arrival="deleting-an-unpublished-imnage"><a class="sidebar-nav-item" href="#deleting-an-unpublished-imnage">Deleting an Unpublished imnage</a></li><li class="depth2" data-magellan-arrival="invalid-get-returning-an-error"><a class="sidebar-nav-item" href="#invalid-get-returning-an-error">Invalid GET returning an error</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/image-api/try-it.html">Try It</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/product-management/image-api/revision-history.html">Revision History</a></li></ul></nav></div><div class="off-canvas-wrap" data-offcanvas><div class="inner-wrap"><aside class="left-off-canvas-menu hide-for-medium-up"></aside><div class="small-12 medium-9 medium-offset-3 large-8 large-offset-2 columns end api-content"><h1 id="sample-messages" data-magellan-destination="sample-messages">Sample Messages</h1>
<p>This section contains sample messages illustrating how to interact with the Image API. Examples are currently not available, but will soon be added.</p>
<h2 id="reading-all-active-images" data-magellan-destination="reading-all-active-images">Reading all Active Images</h2>
<p>To read all active images, a GET of /images for the property will return them:</p>
<pre><code>GET https://services.expediapartnercentral.com/properties/12933870/images
Accept: application/json
</code></pre><pre><code class="lang-json">{
  &quot;entity&quot;: [
    {
      &quot;resourceId&quot;: &quot;6d266700-f59c-4f61-be81-fd43e4da9d4e&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/6d266700_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;categoryCode&quot;: &quot;SUNDECK&quot;,
      &quot;propertyFeatured&quot;: true,
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-19T15:29:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://epc-photos-prod.s3.amazonaws.com/12933870/d2889492-c134-41f6-a6fe-21dca6a4a161.jpg&quot;
    },
    {
      &quot;resourceId&quot;: &quot;b3c659b8-7ca1-4a6c-8d6a-a2b54438b024&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/b3c659b8_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-23T21:09:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/IMG_0134.JPG&quot;
    },
    {
      &quot;resourceId&quot;: &quot;b3626ff5-f89f-45ed-9d64-0f0285a96015&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/b3626ff5_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;categoryCode&quot;: &quot;GUESTROOM_VIEW&quot;,
      &quot;roomTypes&quot;: [
        {
          &quot;resourceId&quot;: 201357985,
          &quot;roomTypeFeatured&quot;: false
        },
        {
          &quot;resourceId&quot;: 201603136,
          &quot;roomTypeFeatured&quot;: true
        },
        {
          &quot;resourceId&quot;: 201357986,
          &quot;roomTypeFeatured&quot;: false
        }
      ],
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-24T15:05:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/050.jpg&quot;
    }
  ]
}
</code></pre>
<h2 id="reading-all-images-active-and-inactive-" data-magellan-destination="reading-all-images-active-and-inactive-">Reading all Images (Active and Inactive)</h2>
<p>To read all images, a query parameter needs to be passed to the GET images query:</p>
<pre><code>GET https://services.expediapartnercentral.com/properties/12933870/images?status=all
Accept: application/json
</code></pre><pre><code>{
  &quot;entity&quot;: [
    {
      &quot;resourceId&quot;: &quot;6d266700-f59c-4f61-be81-fd43e4da9d4e&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/6d266700_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;categoryCode&quot;: &quot;SUNDECK&quot;,
      &quot;propertyFeatured&quot;: true,
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-19T15:29:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://epc-photos-prod.s3.amazonaws.com/12933870/d2889492-c134-41f6-a6fe-21dca6a4a161.jpg&quot;
    },
    {
      &quot;resourceId&quot;: &quot;b3c659b8-7ca1-4a6c-8d6a-a2b54438b024&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/b3c659b8_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-23T21:09:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/IMG_0134.JPG&quot;
    },
    {
      &quot;resourceId&quot;: &quot;40be3cb3-ea7a-44ba-92eb-0d2682122760&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/40be3cb3_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-24T15:23:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/10px.png&quot;
    },
    {
      &quot;resourceId&quot;: &quot;a1268d71-fda9-4131-899d-dbd1c2e520c5&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/a1268d71_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-24T15:17:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/ExpediaLogo.gif&quot;
    },
    {
      &quot;resourceId&quot;: &quot;b3626ff5-f89f-45ed-9d64-0f0285a96015&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/b3626ff5_b.jpg&quot;,
      &quot;status&quot;: &quot;Active&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;categoryCode&quot;: &quot;GUESTROOM_VIEW&quot;,
      &quot;roomTypes&quot;: [
        {
          &quot;resourceId&quot;: 201603136,
          &quot;roomTypeFeatured&quot;: true
        },
        {
          &quot;resourceId&quot;: 201357986,
          &quot;roomTypeFeatured&quot;: false
        },
        {
          &quot;resourceId&quot;: 201357985,
          &quot;roomTypeFeatured&quot;: false
        }
      ],
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-24T15:05:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/050.jpg&quot;
    },
    {
      &quot;resourceId&quot;: &quot;e7de09f0-2eef-42e1-9950-a0c053df0ec7&quot;,
      &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/e7de09f0_b.jpg&quot;,
      &quot;status&quot;: &quot;Inactive&quot;,
      &quot;state&quot;: &quot;Published&quot;,
      &quot;categoryCode&quot;: &quot;GUESTROOM_VIEW&quot;,
      &quot;roomTypes&quot;: [
        {
          &quot;resourceId&quot;: 201665161,
          &quot;roomTypeFeatured&quot;: true
        }
      ],
      &quot;lastUpdateDateTime&quot;: &quot;2016-08-24T15:14:00Z&quot;,
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/064.jpg&quot;
    }
  ]
}
</code></pre><h2 id="adding-a-new-image-for-a-property-with-minimum-data" data-magellan-destination="adding-a-new-image-for-a-property-with-minimum-data">Adding a New Image for a Property With Minimum Data</h2>
<p>To add a new image to a property, only the image location is needed.</p>
<pre><code>POST https://services.expediapartnercentral.com/properties/12933870/images
Accept: application/json
Content-Type: application/json
{
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/IMG_0134.JPG&quot;
}
</code></pre><pre><code>201 Created
Content-Type:  application/json; charset=UTF-8
{
  &quot;entity&quot;: {
    &quot;resourceId&quot;: &quot;b3c659b8-7ca1-4a6c-8d6a-a2b54438b024&quot;,
    &quot;state&quot;: &quot;Received&quot;
  }
}
</code></pre><h2 id="adding-a-new-image-for-multiple-room-types" data-magellan-destination="adding-a-new-image-for-multiple-room-types">Adding a New Image for Multiple Room Types</h2>
<p>To add a new image to a property and have it assigned to some room types, an array of all the room types this image should be assigned to is needed. In this example, we assign a new image to 3 room types, using the room types resource IDs&#39; found via the Product API.</p>
<pre><code>POST https://services.expediapartnercentral.com/properties/12933870/images
Accept: application/json
Content-Type: application/json
{
  &quot;categoryCode&quot;: &quot;GUESTROOM_VIEW&quot;,
  &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/050.jpg&quot;,
  &quot;roomTypes&quot;: [
    {
      &quot;resourceId&quot;: 201357985,
      &quot;roomTypeFeatured&quot;: false
    },
    {
      &quot;resourceId&quot;: 201357986,
      &quot;roomTypeFeatured&quot;: false
    },
    {
      &quot;resourceId&quot;: 201603136,
      &quot;roomTypeFeatured&quot;: true
    }
  ],
  &quot;status&quot;: &quot;Active&quot;
}
</code></pre><pre><code>201 Created
Content-Type:  application/json; charset=UTF-8
{
  &quot;entity&quot;: {
    &quot;resourceId&quot;: &quot;b3626ff5-f89f-45ed-9d64-0f0285a96015&quot;,
    &quot;state&quot;: &quot;Received&quot;
  }
}
</code></pre><h2 id="verifying-state-of-a-newly-added-image" data-magellan-destination="verifying-state-of-a-newly-added-image">Verifying State of a Newly Added Image</h2>
<p>To verify the state of a newly added image and make sure it gets published, a GET with the resource ID of the image will provide the information.</p>
<pre><code>GET https://services.expediapartnercentral.com/properties/12933870/images/b3626ff5-f89f-45ed-9d64-0f0285a96015
Accept: application/json
</code></pre><pre><code>{
  &quot;entity&quot;: {
    &quot;resourceId&quot;: &quot;b3626ff5-f89f-45ed-9d64-0f0285a96015&quot;,
    &quot;publishedImageUrl&quot;: &quot;https://images.trvl-media.com/hotels/13000000/12940000/12933900/12933870/b3626ff5_b.jpg&quot;,
    &quot;status&quot;: &quot;Active&quot;,
    &quot;state&quot;: &quot;Published&quot;,
    &quot;categoryCode&quot;: &quot;GUESTROOM_VIEW&quot;,
    &quot;roomTypes&quot;: [
      {
        &quot;resourceId&quot;: 201357985,
        &quot;roomTypeFeatured&quot;: false
      },
      {
        &quot;resourceId&quot;: 201357986,
        &quot;roomTypeFeatured&quot;: false
      },
      {
        &quot;resourceId&quot;: 201603136,
        &quot;roomTypeFeatured&quot;: true
      }
    ],
    &quot;lastUpdateDateTime&quot;: &quot;2016-08-24T15:05:00Z&quot;,
    &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/050.jpg&quot;
  }
}
</code></pre><h2 id="deleting-an-unpublished-imnage" data-magellan-destination="deleting-an-unpublished-imnage">Deleting an Unpublished imnage</h2>
<p>When partners upload images that Expedia cannot publish, it is possible for partners to ask Expedia to delete these to stop seeing them in the GET all images. Assuming a partner pushes a corrupted image with a POST:</p>
<pre><code> {
      &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/invalidimage.txt&quot;
}
</code></pre><p>Expedia will return the resourceId for it straight away, with the received state:</p>
<pre><code>{
    &quot;entity&quot;: {
        &quot;resourceId&quot;: &quot;dcb9d144-2a5c-469c-a71c-e2f69c788e26&quot;,
        &quot;state&quot;: &quot;Received&quot;
    }
}
</code></pre><p>The partner can then get state with a GET:</p>
<pre><code>GET https://services.expediapartnercentral.com/properties/12933870/images/dcb9d144-2a5c-469c-a71c-e2f69c788e26
</code></pre><p>In this case, the state will be Rejected</p>
<pre><code>{
    &quot;entity&quot;: {
        &quot;resourceId&quot;: &quot;dcb9d144-2a5c-469c-a71c-e2f69c788e26&quot;,
        &quot;status&quot;: &quot;Active&quot;,
        &quot;state&quot;: &quot;Rejected&quot;,
        &quot;lastUpdateDateTime&quot;: &quot;2016-08-24T15:36:45.835Z&quot;,
        &quot;originalImageUrl&quot;: &quot;https://s3-us-west-2.amazonaws.com/eps-website/invalidimage.txt&quot;
    }
}
</code></pre><p>The partner can then issue a Delete statement to stop seeing this image completely for this property</p>
<pre><code>DELETE https://services.expediapartnercentral.com/properties/12933870/images/dcb9d144-2a5c-469c-a71c-e2f69c788e26
Accept: application/json
</code></pre><p>The response when successful will be a 204 No Content.</p>
<h2 id="invalid-get-returning-an-error" data-magellan-destination="invalid-get-returning-an-error">Invalid GET returning an error</h2>
<p>Here&#39;s an example of how EPS Image returns errors to customers. If a partner provides an invalid resourceId:</p>
<pre><code>GET https://services.expediapartnercentral.com/properties/12933870/images/notavalidresourceid
Accept: application/json
</code></pre><p>An error is returned</p>
<pre><code>{
    &quot;errors&quot;: [
        {
            &quot;code&quot;: 3802,
            &quot;message&quot;: &quot;Invalid media GUID provided.&quot;
        }
    ]
}
</code></pre></div><a class="exit-off-canvas hide-for-medium-up"></a></div></div></div><footer id="site-footer" class="row full-width">
    <div class="large-8 large-centered columns">
        <div class="links text-center">
            <a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> |
            <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> |
            <a class="link-item" href="/terms">Terms and Conditions</a> |
            <a class="link-item" href="/privacy">Privacy Policy</a> |
            <a class="link-item" href="/license">License Agreement</a>
        </div>
        <div class="show-for-large-up">
            <div class="footer-logo">&nbsp;</div>
        </div>
        <div id="footer-copyright">Â© 2016 Expedia, Inc. All rights reserved. Confidential and proprietary.</div>
    </div>
</footer>
<input type="hidden" id="eventTrackingPageName" value="Sample Messages - Image API (Experimental)"/></body></html>